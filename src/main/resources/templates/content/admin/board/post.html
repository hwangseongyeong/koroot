<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/default">

<div layout:fragment="content">

    <section id="contact" class="contact">
        <div class="container" data-aos="fade-up">
            <div class="row">
                <div class="col-lg-12">
                    <h3><span>관리자 게시판</span></h3>
                </div>
            </div>
            <table id="table"
                   data-toggle="table"
                   data-pagination="true"
                   data-search="true"
                   data-show-columns="true"
                   data-halign="center"
                   data-url="/api/communication/noticeList"
                   data-click-to-select="test"
            >
                <thead>
                <tr>
                    <th class="me-sm-1" data-field="noticeId" data-halign="center" data-align="center">번호</th>
                    <th data-field="title" data-halign="center" data-align="center">제목</th>
                    <th data-field="writer" data-halign="center" data-align="center">작성자</th>
                    <th data-field="writer" data-halign="center" data-align="center">등록일</th>
                    <th data-field="writer" data-halign="center" data-align="center">조회수</th>
                </tr>
                </thead>
            </table>

        </div>
    </section>

    <th:block layout:fragment="script">
        <script th:src="@{/js/communication/notice.js}"></script>
        <script src="https://cdn.ckeditor.com/ckeditor5/27.0.0/classic/ckeditor.js"></script>

        <script type="text/javascript">
            // CKEDITOR.replace('p_content'
            //     , {height: 500
            //     });
        </script>

        <script>
            $(function(){
                $('#table').on('click-row.bs.table', function (e, rowData) {
                    console.log(e,rowData);
                    $('#modalPost').show();
                });
            });

        </script>
    </th:block>

    <style type="text/css">
        .page-link {
            color:#000000
        }
        .page-item.active .page-link{
            background-color:#48bd2b
        }
    </style>

    <div id="modalPost" class="modal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">게시물 - 등록</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#modalPost" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <table class="table table-bordered">
                        <tbody>
                        <tr>
                            <th class="w-25">게시물 TYPE</th>
                            <td class="w-auto">
                                <select id="postType" name="postType">
                                    <option value="">선택해주세요.</option>
                                    <option value="">이미지 게시판</option>
                                    <option value="">자료실 게시판</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th class="w-25">내용</th>
                            <td class="w-auto">
                                <textarea class="form-control" id="p_content"></textarea>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#modalPost">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
</div>

</html>